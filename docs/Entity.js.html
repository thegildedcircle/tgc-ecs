<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Entity.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Component.html">Component</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Entity.html">Entity</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-Manager.html">Manager</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-System.html">System</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Entity.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * ECS.Entity
 * @module Entity
 * 
 * @param {string | number} id - The id of the entity.
 * 
 * @return {Entity} Returns a new entity object. Entities have an id property
 * and a components property. Components is an array of all the `Component`s stored
 * in that entity. 
 * 
 * @description Entities are the core of the ECS pattern. In this implementation
 * entities store all the components associated to it in the components array. 
 * There are a number of methods exposed to enable the addition, removal, and query
 * of components on an entity.
 * 
 * It is not common to create entities directly, instead delegating that to the
 * ECS.Manager. Should you wish to use your own manager though, here is a brief
 * example:
 * 
 * ```js
 * const { Entity } = require('ECS')
 * // Imaginary file that contains some components for our game
 * const { HealthComponent, NameComponent, DamageComponent } = require('./components')
 * 
 * // Construct a new entity, use the current POSIX time as the entity id.
 * const player = Entity(Date.now())
 * // Add components to the player
 * player.addComponent(NameComponent({ value: 'Player One'}))
 * player.addComponent(HealthComponent({ value: 100 }))
 * player.addComponent(DamageComponent({ value: 50 }))
 * 
 * player.hasComponent('name') // true
 * player.getComponent('health') // { value: 100 }
 * player.findComponents((c => c.state.value >= 50 )) // =>
 * // [
 * //  { name: 'health', unique: true, state: { value: 100 } },
 * //  { name: 'damage', unique: false, state: { value: 50 } }
 * // ]
 * ```
 */

/**
 * @typedef {Object} Entity
 * 
 * @property {string | number}  name    - .
 * @property {Component[]}      unique  - .
 * @property {function}         addComponent   - .
 * @property {function}         removeComponent   - .
 * @property {function}         hasComponent   - .
 * @property {function}         getComponent   - .
 * @property {function}         findComponents   - .
 * 
 */
module.exports = id => ({
  id,
  components: [],
  addComponent(component) {
    if (component.unique &amp;&amp; this.hasComponent(component.name)) {
      console.warn(`Attempting to add non-unique component "${component.name}" to entity when one already exists.`)
    } else {
      this.components.push(component)
    }
  },
  removeComponent(component) {
    this.components = this.components.filter(c => {
      return JSON.stringify(c) !== JSON.stringify(component)
    })
  },
  hasComponent(name) {
    return this.components.some(c => c.name === name)
  },
  getComponent(name) {
    return this.components.find(c => c.name === name)
  },
  findComponents(predicate) {
    return this.components.filter(predicate)
  }
})</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Feb 27 2019 23:02:30 GMT+0000 (Greenwich Mean Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
